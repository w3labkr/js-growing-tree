!function(){function t(t){if(t=t||{},this.container=t.container||document.body,this.fullDepth=11,this.depth=t.depth||this.fullDepth,this.pixelRatio=window.devicePixelRatio>1?2:1,this.growthSpeed=t.growthSpeed||1,this.treeScale=t.treeScale||1,this.branchWidth=t.branchWidth||1,this.colorMode=t.colorMode||"gradient",this.color=t.color||"#000",this.gradientStart=t.gradientStart||"#8B4513",this.gradientEnd=t.gradientEnd||"#228B22",this.seed=void 0!==t.seed?Number(t.seed):void 0,void 0!==this.seed){this.randSeq=[];for(var e=this.seed,i=0;i<1e4;i++){var s=((e=16807*e%2147483647)-1)/2147483646;this.randSeq.push(s)}this.randCounter=0}this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.branches=[],this.animation=null,this.currentDepth=0,this.addEventListeners(),this.resize(),this.startTree(this.stageWidth/2,this.stageHeight)}t.prototype.addEventListeners=function(){window.addEventListener("resize",this.resize.bind(this))},t.prototype.resize=function(){this.stageWidth=this.container.clientWidth,this.stageHeight=this.container.clientHeight,this.canvas.width=this.stageWidth*this.pixelRatio,this.canvas.height=this.stageHeight*this.pixelRatio,this.ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.clearCanvas()},t.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.stageWidth,this.stageHeight)},t.prototype.startTree=function(t,e){this.animation&&cancelAnimationFrame(this.animation),this.clearCanvas(),void 0!==this.seed&&(this.randCounter=0),this.branches=Array.from({length:this.fullDepth},function(){return[]}),this.currentDepth=0,this.treeTop=1/0,this.treeX=t,this.treeY=e;var i=this.stageHeight/(13*this.fullDepth);this.treeScale>i&&(this.treeScale=i),this.createBranch(this.treeX,this.treeY,-90,0);for(var s=0;s<this.fullDepth;s++)for(var h=0;h<this.branches[s].length;h++)this.branches[s][h].cntFrame=0;this.animate()},t.prototype.random=function(t,e){return this.randSeq?t+this.randSeq[this.randCounter++]*(e-t):Math.random()*(e-t)+t},t.prototype.degToRad=function(t){return t*(Math.PI/180)},t.prototype.createBranch=function(t,e,i,s){if(s!==this.fullDepth){var h=this.treeScale,r=(0===s?this.random(10,13):this.random(0,11))*h,a=this.fullDepth-s,n=t+Math.cos(this.degToRad(i))*r*a,o=e+Math.sin(this.degToRad(i))*r*a;e<this.treeTop&&(this.treeTop=e),o<this.treeTop&&(this.treeTop=o);var d=this.branchWidth;this.branches[s].push({startX:t,startY:e,endX:n,endY:o,lineWidth:a*d,frame:100,cntFrame:0,gapX:(n-t)/100,gapY:(o-e)/100,plugin:this,draw:function(t,e){if(this.cntFrame<this.frame){t.beginPath();var i=this.cntFrame/this.frame,s=this.startX+(this.endX-this.startX)*i,h=this.startY+(this.endY-this.startY)*i;if(t.moveTo(this.startX,this.startY),t.lineTo(s,h),t.lineWidth=this.lineWidth,"gradient"===this.plugin.colorMode){var r=t.createLinearGradient(this.plugin.treeX,this.plugin.treeY,this.plugin.treeX,this.plugin.treeTop);r.addColorStop(0,this.plugin.gradientStart),r.addColorStop(1,this.plugin.gradientEnd),t.strokeStyle=r}else t.strokeStyle=this.plugin.color;return t.stroke(),t.closePath(),this.cntFrame+=e,!1}return!0}}),this.createBranch(n,o,i-this.random(15,23),s+1),this.createBranch(n,o,i+this.random(15,23),s+1)}},t.prototype.animate=function(){this.clearCanvas();for(var t=0;t<this.currentDepth&&!(t>=this.depth);t++)for(var e=0;e<this.branches[t].length;e++){var i=this.branches[t][e];if(this.ctx.beginPath(),this.ctx.moveTo(i.startX,i.startY),this.ctx.lineTo(i.endX,i.endY),this.ctx.lineWidth=i.lineWidth,"gradient"===this.colorMode){var s=this.ctx.createLinearGradient(this.treeX,this.treeY,this.treeX,this.treeTop);s.addColorStop(0,this.gradientStart),s.addColorStop(1,this.gradientEnd),this.ctx.strokeStyle=s}else this.ctx.strokeStyle=this.color;this.ctx.stroke(),this.ctx.closePath()}var h=!1;if(this.currentDepth<this.depth){for(var r=!0,e=0;e<this.branches[this.currentDepth].length;e++){var i=this.branches[this.currentDepth][e];if(i.cntFrame<i.frame)i.draw(this.ctx,this.growthSpeed),h=!0,r=!1;else{if(this.ctx.beginPath(),this.ctx.moveTo(i.startX,i.startY),this.ctx.lineTo(i.endX,i.endY),this.ctx.lineWidth=i.lineWidth,"gradient"===this.colorMode){var s=this.ctx.createLinearGradient(this.treeX,this.treeY,this.treeX,this.treeTop);s.addColorStop(0,this.gradientStart),s.addColorStop(1,this.gradientEnd),this.ctx.strokeStyle=s}else this.ctx.strokeStyle=this.color;this.ctx.stroke(),this.ctx.closePath()}}r&&(this.currentDepth++,h=!0)}h?this.animation=requestAnimationFrame(this.animate.bind(this)):cancelAnimationFrame(this.animation)},window.TreePlugin=t}();